# Memory management

To keep the multi-programming possible in systems OS keeps the process in the RAM, for increasing the responsiveness to the users.

Logical address space 

Address generated by the CPU.

The logical address is the address of the instruction used by the process.

User can get access to the LAS. 

Also called virtual address. 

Belongs to the process before it enters the main memory. 

Physical address space 

Actual address loaded into the memory-address register of the physical memory. 

User can never access the physical address of the program. 

A set of all physical addresses corresponding to the logical address is commonly known as physical address space. 

It is computed by MMU ( Memory management unit ). 

## Allocation methods

1. Continuous allocation 
    
    Each process is contained in a single contiguous block .
    
    1. Fixed partitioning 
        
        The main memory is divided into partitions of equal different sizes. 
        
        When a process comes into the main memory the next contiguous free space is allotted to it.
        
        Drawback : 
        
        1. if the size of the process is less than the total size of the partition then some size of the of the total partition is left gets wasted and remains unused i.e. Internal fragmentation. 
        2. When a process comes into the main memory, even though the main memory has the space to accommodate that process but the free space available is not in the contiguous form i.e. External fragmentation.
    2. Dynamic partitioning 
        
        In this partitioning the block are not allocated with a fixed size in fact , according the size of the process a block is allocated. 
        
        Drawback : External fragmentation vulnerable.
        
    
    Is OS free space is maintained with a free list which is a linked list data structure. 
    
    **Defragmentation** 
    
    Dynamic partitioning suffers from external fragmentation , we move all the space which is allocated to process together, due to which all the left free space will be grouped together. 
    

## Algorithms to find holes in a linked list

1. First fit 
    1. Allocate to the first hole that is big enough. 
2. Best fit 
    1. Allocate to the hole that has the minimum internal fragmentation.
    2. Lesser Internal fragmentation.
    3. Major external fragmentation.
    4. Slower than other algorithms.  
3. Worst fit 
    1. Allocate to the largest hole possible from the free list.
    2.  Less external fragmentation.
4. Next fit
    1. Same as the first fit but we continue our search . 

## Paging in OS

It is the method of dividing RAM into fixed size blocks called Frames, dividing the local memory into fixed sized block called pages.  

The goal of paging is to provide a level of abstraction that allows processes to operate as if they have access to contiguous block of memory, even though the physical memory is fragmented. 

Prevent external fragmentation.

**Page table** 

Each process has its own page table , which is used to map logical addresses to the physical address. 

It is a data structure.

Its inside the memory. 

Each entry of the page table contains Page no , offset and corresponding Frame no , offset. 

It is stored in PCB. 

## Segmentation

Method of dividing logical address space into different segments, where each segment represents specific type of data , code.